<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Command Input Box</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: Arial, sans-serif;
            background-size: cover; /* Make background image stretch to fit the screen */
            background-repeat: no-repeat; /* Ensure the background image does not repeat */
            background-position: center; /* Center the background image */
        }
        textarea {
            background-color: #000;
            color: white;
            border: 1px solid #666;
            resize: none; /* Prevent resizing */
            height: 50px; /* Set height to 100px */
        }
        button {
            background-color: #000;
            color: white;
            border: 1px solid #666;
            padding: 10px 20px;
            cursor: pointer;
        }
        button:hover {
            background-color: #555;
        }
    </style>
    <script>
        function validateCommand() {
            const comms = ['load', 'summary', 'games', 'cores', 'bart'];
            const cores = ['finalburnneo', 'nes', 'md'];
            const reg = ['us', 'jp', 'eu'];
            const games = {
                'Lagrange Point': {
                    core: 'nes',
                    gameName: 'Lagrange Point (Japan)',
                    gameUrl: 'https://file.garden/Zdko1-gxzVCR-6XW/gameroms/Lagrange_Point_Japan.nes'
                },
                'Battletoads': {
                    core: 'arcade',
                    gameName: 'Battletoads [Arcade] (US)',
                    gameUrl: 'https://file.garden/Zdko1-gxzVCR-6XW/gameroms/btoads.zip'
                },
                'Alien Soldier': {
                    core: 'segaMD',
                    gameName: 'Alien Soldier (Japan)',
                    gameUrl: 'https://file.garden/Zdko1-gxzVCR-6XW/gameroms/Alien_Soldier_Japan.md'
                }
            };

            const commandBox = document.getElementById('commandBox');
            const commandText = commandBox.value.trim();

            const output = document.getElementById('output');

            if (commandText === '') {
                output.textContent = "... where's the command?";
                return;
            }

            const commandParts = commandText.split(' ');

            if (commandParts.length === 1) {
                const command = commandParts[0];
                if (command === 'games') {
                    output.innerHTML = 'Available games:<br>' + Object.keys(games).join('<br>');
                    return;
                } else if (command === 'cores') {
                    output.innerHTML = 'Available cores:<br>' + cores.join('<br>');
                    return;
                } else if (command === 'bart') {
                    document.body.style.backgroundImage = "url('https://file.garden/Zdko1-gxzVCR-6XW/bart.jpg')";
                    output.textContent = 'Background changed to Bart image';
                    return;
                }
            }

            if (commandParts.length !== 4) {
                output.textContent = 'Invalid command format. Should be: load [core] [game name] [region]';
                return;
            }

            const [command, core, game, region] = commandParts;

            if (!comms.includes(command)) {
                output.textContent = 'Invalid command: ' + command;
            } else if (!cores.includes(core)) {
                output.textContent = 'Invalid core: ' + core;
            } else if (!games[game]) {
                output.textContent = 'Invalid game: ' + game;
            } else if (!reg.includes(region)) {
                output.textContent = 'Invalid region: ' + region;
            } else if (game === 'Battletoads' && region !== 'us') {
                output.textContent = `Game doesn't exist in ${region} region`;
            } else {
                const selectedGame = games[game];
                window.location.href = `gamepages/emugame.html?core=${selectedGame.core}&gameName=${encodeURIComponent(selectedGame.gameName)}&gameUrl=${encodeURIComponent(selectedGame.gameUrl)}`;
            }
        }
    </script>
</head>
<body>
    <h1>green skeleton</h1>
    <p>command formatting should look like this: load [core] [game name] [region]</p>
    <textarea id="commandBox" placeholder="Type your commands here..."></textarea>
    <br>
    <button onclick="validateCommand()">input</button>
    <p id="output"></p>
</body>
</html>
